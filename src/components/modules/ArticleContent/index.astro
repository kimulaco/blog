---
import { convertMdToHtml } from '@/core/utilities/markdown'

interface Props {
  content: string
}

const { content } = Astro.props
const html = convertMdToHtml(content)
---

<div class="PostContent" set:html={html} />

<style lang="scss" is:global>
  @use '@/assets/scss/mixins' as mixins;

  .PostContent {
    @include mixins.reset-child-margin();

    & {
      line-height: 1.8;
      word-wrap: break-word;
    }

    a {
      text-decoration: none;
      padding: 0 2px 2px;
      position: relative;

      @include mixins.active() {
        text-decoration: underline;
      }

      > code {
        font-size: 15px;
        display: inline-block;
        background: var(--app-color-quotegray);
        padding: 2px 6px;
        margin: 0 4px;
        border-radius: 4px;
        line-height: 1.2;
      }
    }

    strong {
      color: var(--app-color-red);
    }

    p {
      margin: 16px 0;
    }

    p,
    li,
    h2,
    h3,
    h4,
    h5,
    h6 {
      > code {
        display: inline-block;
        color: var(--app-color-darkgray);
        background: #f1f1f1;
        padding: 2px 6px;
        margin: 0 4px;
        border-radius: 4px;
        line-height: 1.2;
      }
    }

    p,
    li {
      > code {
        font-size: 15px;
      }
    }

    h2 {
      font-size: 24px;
      padding: 0 0 4px;
      margin: 40px 0 24px;
      border-bottom: 1px solid var(--app-color-lightgray);
    }

    h3 {
      font-size: 20px;
      padding: 0 0 4px;
      margin: 32px 0 16px;
    }

    h4 {
      font-size: 18px;
      margin: 32px 0 16px;
    }

    h5 {
      font-size: 16px;
      margin: 32px 0 16px;
    }

    h6 {
      font-size: 14px;
      margin: 32px 0 16px;
    }

    ul,
    ol {
      padding: 0 0 0 20px;
      margin: 16px 0;

      ul,
      ol {
        margin: 0;
      }
    }

    blockquote {
      @include mixins.reset-child-margin();

      & {
        padding: 16px;
        margin: 16px 0;
        background: var(--app-color-quotegray);
        border-radius: 6px;
      }
    }

    pre {
      margin: 24px 0;
      border-radius: 6px;
      overflow: auto;

      code {
        display: block;
        padding: 0;
        color: var(--app-color-blockgray);
      }
    }

    table {
      font-size: 14px;
      text-align: left;
      border-collapse: collapse;

      thead {
        border-bottom: 1px solid var(--app-color-lightgray);
        background-color: #f7fafc;
      }

      tr {
        &:not(:last-child) {
          border-bottom: 1px solid var(--app-color-lightgray);
        }
      }

      th,
      td {
        padding: 8px 16px;
      }
    }

    .PostContent_index {
      padding: 16px;
      margin: 0 0 40px;
      border-radius: 6px;
      box-shadow: 0 0 4px var(--app-color-shadowblack);

      @include mixins.media() {
        margin: 20px 0 40px;
      }

      ul {
        margin: 0;
        ul {
          display: none;

          @include mixins.media() {
            display: block;
          }
        }
      }
    }

    .PostContent_index-title {
      margin: 0 0 10px;
      font-size: 20px;
    }
  }
</style>
